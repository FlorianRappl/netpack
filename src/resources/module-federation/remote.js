var hr=Object.create;var ft=Object.defineProperty;var pr=Object.getOwnPropertyDescriptor;var _r=Object.getOwnPropertyNames;var mr=Object.getPrototypeOf,yr=Object.prototype.hasOwnProperty;var Er=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gr=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _r(e))!yr.call(t,o)&&o!==n&&ft(t,o,{get:()=>e[o],enumerable:!(r=pr(e,o))||r.enumerable});return t};var br=(t,e,n)=>(n=t!=null?hr(mr(t)):{},gr(e||!t||!t.__esModule?ft(n,"default",{value:t,enumerable:!0}):n,t));var St=Er((fo,bt)=>{"use strict";var Le=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyNames,vr=Object.prototype.hasOwnProperty,$r=(t,e)=>{for(var n in e)Le(t,n,{get:e[n],enumerable:!0})},Ir=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Rr(e))!vr.call(t,o)&&o!==n&&Le(t,o,{get:()=>e[o],enumerable:!(r=Sr(e,o))||r.enumerable});return t},Or=t=>Ir(Le({},"__esModule",{value:!0}),t),yt={};$r(yt,{createLogger:()=>gt,logger:()=>xr});bt.exports=Or(yt);var Y=void 0,Et=()=>{if(typeof Y<"u")return Y;let t=console.log;try{let e="color test",n="color: red;";Y=!1,console.log=(...r)=>{r[0]===`%c${e}`&&r[1]===n&&(Y=!0)},console.log(`%c${e}`,n)}catch{Y=!1}finally{console.log=t}return Y},Te={bold:"font-weight: bold;",red:"color: red;",green:"color: green;",orange:"color: orange;",dodgerblue:"color: dodgerblue;",magenta:"color: magenta;",gray:"color: gray;"},q=t=>Et()?e=>{if(Array.isArray(e)){let[n,r]=e;return[`%c${n.replace("%c","")}`,r?`${Te[t]}${r}`:`${Te[t]||""}`]}return[`%c${String(e).replace("%c","")}`,Te[t]||""]}:e=>[String(e)],Ae=q("bold"),Nr=q("red"),dt=q("green"),wr=q("orange"),ht=q("dodgerblue"),Tr=q("magenta"),uo=q("gray");function Ar(t,e,n){let r=[""];if("label"in e)if(r=[(t!=="log"?n[t]:void 0)||e.label||""],e.color){let a=e.color(r[0]);Array.isArray(a)&&a.length===2?r=Ae([a[0],a[1]]):r=Ae(a[0]||"")}else r=Ae(r[0]);return r=r.filter(Boolean),r}function Pr(t,e,n,r){t.length?Array.isArray(r)?console.log(...t,...r,...n):console.log(...t,e,...n):Array.isArray(r)?console.log(...r):console.log(e,...n)}var pt={error:0,warn:1,info:2,log:3,verbose:4},Lr=/at\s.*:\d+:\d+[\s\)]*$/,Mr=/at\s.*\(<anonymous>\)$/,Dr=t=>Lr.test(t)||Mr.test(t);function Fr(t){let e={...t};if(t.labels&&typeof t.labels!="object")throw new Error("Labels must be an object");if(t.level&&typeof t.level!="string")throw new Error("Level must be a string");return e}var kr=(t={},{getLabel:e,handleError:n,finalLog:r,greet:o,LOG_TYPES:a})=>{let i=Fr(t),s=i.level||"log",l=i.labels||{},c=(u,d,...p)=>{if(pt[a[u].level]>pt[s])return;if(d==null)return console.log();let m=a[u],y="",_=e(u,m,l);if(d instanceof Error)if(d.stack){let[E,...b]=d.stack.split(`
`);E.startsWith("Error: ")&&(E=E.slice(7)),y=`${E}
${n(b.join(`
`))}`}else y=d.message;else m.level==="error"&&typeof d=="string"?y=d.split(`
`).map(b=>Dr(b)?n(b):b).join(`
`):y=`${d}`;r(_,y,p,d)},h={greet:u=>c("log",o(u))};return Object.keys(a).forEach(u=>{h[u]=(...d)=>c(u,...d)}),Object.defineProperty(h,"level",{get:()=>s,set(u){s=u}}),Object.defineProperty(h,"labels",{get:()=>l,set(u){l=u}}),h.override=u=>{Object.assign(h,u)},h},K=[189,255,243],Pe=[74,194,154],_t=t=>!/[\s\n]/.test(t);function mt(t){if(!Et())return[t];let e=[...t],n=e.filter(_t),r=n.length-1;if(r===0)return console.log(`%c${t}`,`color: rgb(${K.join(",")}); font-weight: bold;`),[t];let o="",a=[];return e.forEach(i=>{if(_t(i)){let s=n.indexOf(i)/r,l=Math.round(K[0]+(Pe[0]-K[0])*s),c=Math.round(K[1]+(Pe[1]-K[1])*s),h=Math.round(K[2]+(Pe[2]-K[2])*s);o+=`%c${i}`,a.push(`color: rgb(${l},${c},${h}); font-weight: bold;`)}else o+=i}),[o,...a]}var Cr={error:{label:"error",level:"error",color:Nr},warn:{label:"warn",level:"warn",color:wr},info:{label:"info",level:"info",color:ht},start:{label:"start",level:"info",color:ht},ready:{label:"ready",level:"info",color:dt},success:{label:"success",level:"info",color:dt},log:{level:"log"},debug:{label:"debug",level:"verbose",color:Tr}};function gt(t={}){return kr(t,{handleError:e=>e,getLabel:Ar,gradient:mt,finalLog:Pr,LOG_TYPES:Cr,greet:e=>mt(e)})}var xr=gt()});function T(){return T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},T.apply(this,arguments)}function we(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var Rt=br(St(),1);function V(){return V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},V.apply(this,arguments)}var _o="federation-manifest.json",vt=".json",Hr="FEDERATION_DEBUG",Gr="1",$={AT:"@",HYPHEN:"-",SLASH:"/"},D={[$.AT]:"scope_",[$.HYPHEN]:"_",[$.SLASH]:"__"},Me={[D[$.AT]]:$.AT,[D[$.HYPHEN]]:$.HYPHEN,[D[$.SLASH]]:$.SLASH},$t=":",mo="mf-manifest.json",yo="mf-stats.json",Eo={NPM:"npm",APP:"app"},go="__MF_DEVTOOLS_MODULE_INFO__",bo="ENCODE_NAME_PREFIX",So=".federation",Ro={identifier:"MFDataPrefetch",globalKey:"__PREFETCH__",library:"mf-data-prefetch",exportsKey:"__PREFETCH_EXPORTS__",fileName:"bootstrap.js"},vo=Object.freeze({__proto__:null}),$o=Object.freeze({__proto__:null}),Io=Object.freeze({__proto__:null}),Oo=Object.freeze({__proto__:null});function B(){return typeof window<"u"}function Ur(){try{if(B()&&window.localStorage)return localStorage.getItem(Hr)===Gr}catch{return!1}return!1}function Fe(){return typeof process<"u"&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:typeof FEDERATION_DEBUG<"u"&&FEDERATION_DEBUG?!0:Ur()}var jr=function(){return typeof process<"u"&&process.env?process.env:{}},z="[ Module Federation ]";function Vr(t){Fe()&&(t.level="verbose")}function Br(t,e){t.labels={warn:`${e} Warn`,error:`${e} Error`,success:`${e} Success`,info:`${e} Info`,ready:`${e} Ready`,debug:`${e} Debug`}}function ke(t){let e=(0,Rt.createLogger)({labels:{warn:`${z} Warn`,error:`${z} Error`,success:`${z} Success`,info:`${z} Info`,ready:`${z} Ready`,debug:`${z} Debug`}});return Vr(e),Br(e,t),e}var No=ke(z),It="[ Federation Runtime ]",wo=(t,e,n=$t)=>{let r=t.split(n),o=jr().NODE_ENV==="development"&&e,a="*",i=s=>s.startsWith("http")||s.includes(vt);if(r.length>=2){let[s,...l]=r;t.startsWith(n)&&(l=[o||r.slice(-1)[0]],s=r.slice(0,-1).join(n));let c=o||l.join(n);return i(c)?{name:s,entry:c}:{name:s,version:c||a}}else if(r.length===1){let[s]=r;return o&&i(o)?{name:s,entry:o}:{name:s,version:o||a}}else throw`Invalid entry value: ${t}`},Ce=function(...t){return t.length?t.reduce((e,n)=>n?e?`${e}${$t}${n}`:n:e,""):""},Ot=function(t,e="",n=!1){try{let r=n?".js":"";return`${e}${t.replace(new RegExp(`${$.AT}`,"g"),D[$.AT]).replace(new RegExp(`${$.HYPHEN}`,"g"),D[$.HYPHEN]).replace(new RegExp(`${$.SLASH}`,"g"),D[$.SLASH])}${r}`}catch(r){throw r}},To=function(t,e,n){try{let r=t;if(e){if(!r.startsWith(e))return r;r=r.replace(new RegExp(e,"g"),"")}return r=r.replace(new RegExp(`${D[$.AT]}`,"g"),Me[D[$.AT]]).replace(new RegExp(`${D[$.SLASH]}`,"g"),Me[D[$.SLASH]]).replace(new RegExp(`${D[$.HYPHEN]}`,"g"),Me[D[$.HYPHEN]]),n&&(r=r.replace(".js","")),r}catch(r){throw r}},Ao=(t,e)=>{if(!t)return"";let n=t;return n==="."&&(n="default_export"),n.startsWith("./")&&(n=n.replace("./","")),Ot(n,"__federation_expose_",e)},Po=(t,e)=>t?Ot(t,"__federation_shared_",e):"",fe=(t,e)=>{if("getPublicPath"in t){let n;return t.getPublicPath.startsWith("function")?n=new Function("return "+t.getPublicPath)()():n=new Function(t.getPublicPath)(),`${n}${e}`}else return"publicPath"in t?`${t.publicPath}${e}`:(console.warn("Cannot get resource URL. If in debug mode, please ignore.",t,e),"")},Lo=(t,e)=>{t||Wr(e)},Wr=t=>{throw new Error(`${It}: ${t}`)},xe=t=>{console.warn(`${It}: ${t}`)};function He(t){try{return JSON.stringify(t,null,2)}catch{return""}}var Kr=/^([\d^=v<>~]|[*xX]$)/;function Mo(t){return Kr.test(t)}var ue=(t,e)=>{if(!t)return e;let r=(o=>{if(o===".")return"";if(o.startsWith("./"))return o.replace("./","");if(o.startsWith("/")){let a=o.slice(1);return a.endsWith("/")?a.slice(0,-1):a}return o})(t);return r?r.endsWith("/")?`${r}${e}`:`${r}/${e}`:e};function qr(t){return t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")}function Nt(t,e={}){var n,r;let{remotes:o={},overrides:a={},version:i}=e,s,l=()=>"publicPath"in t.metaData?t.metaData.publicPath==="auto"&&i?qr(i):t.metaData.publicPath:t.metaData.getPublicPath,c=Object.keys(a),h={};if(!Object.keys(o).length){var u;h=((u=t.remotes)==null?void 0:u.reduce((g,v)=>{let w,O=v.federationContainerName;return c.includes(O)?w=a[O]:"version"in v?w=v.version:w=v.entry,g[O]={matchedVersion:w},g},{}))||{}}Object.keys(o).forEach(g=>h[g]={matchedVersion:c.includes(g)?a[g]:o[g]});let{remoteEntry:{path:d,name:p,type:m},types:y,buildInfo:{buildVersion:_},globalName:E,ssrRemoteEntry:b}=t.metaData,{exposes:R}=t,S={version:i||"",buildVersion:_,globalName:E,remoteEntry:ue(d,p),remoteEntryType:m,remoteTypes:ue(y.path,y.name),remoteTypesZip:y.zip||"",remoteTypesAPI:y.api||"",remotesInfo:h,shared:t?.shared.map(g=>({assets:g.assets,sharedName:g.name,version:g.version})),modules:R?.map(g=>({moduleName:g.name,modulePath:g.path,assets:g.assets}))};if((n=t.metaData)!=null&&n.prefetchInterface){let g=t.metaData.prefetchInterface;S=V({},S,{prefetchInterface:g})}if((r=t.metaData)!=null&&r.prefetchEntry){let{path:g,name:v,type:w}=t.metaData.prefetchEntry;S=V({},S,{prefetchEntry:ue(g,v),prefetchEntryType:w})}if("publicPath"in t.metaData?s=V({},S,{publicPath:l()}):s=V({},S,{getPublicPath:l()}),b){let g=ue(b.path,b.name);s.ssrRemoteEntry=g,s.ssrRemoteEntryType=b.type||"commonjs-module"}return s}function Ge(t){return!!("remoteEntry"in t&&t.remoteEntry.includes(vt))}async function wt(t,e){try{return await t()}catch(n){!e&&xe(n);return}}function Tt(t,e){let n=/^(https?:)?\/\//i,r=t.replace(n,"").replace(/\/$/,""),o=e.replace(n,"").replace(/\/$/,"");return r===o}function Ue(t){let e=null,n=!0,r=2e4,o,a=document.getElementsByTagName("script");for(let s=0;s<a.length;s++){let l=a[s],c=l.getAttribute("src");if(c&&Tt(c,t.url)){e=l,n=!1;break}}if(!e){let s=t.attrs;e=document.createElement("script"),e.type=s?.type==="module"?"module":"text/javascript";let l;t.createScriptHook&&(l=t.createScriptHook(t.url,t.attrs),l instanceof HTMLScriptElement?e=l:typeof l=="object"&&("script"in l&&l.script&&(e=l.script),"timeout"in l&&l.timeout&&(r=l.timeout))),e.src||(e.src=t.url),s&&!l&&Object.keys(s).forEach(c=>{e&&(c==="async"||c==="defer"?e[c]=s[c]:e.getAttribute(c)||e.setAttribute(c,s[c]))})}let i=async(s,l)=>{clearTimeout(o);let c=()=>{l?.type==="error"?t?.onErrorCallback&&t?.onErrorCallback(l):t?.cb&&t?.cb()};if(e&&(e.onerror=null,e.onload=null,wt(()=>{let{needDeleteScript:h=!0}=t;h&&e?.parentNode&&e.parentNode.removeChild(e)}),s&&typeof s=="function")){let h=s(l);if(h instanceof Promise){let u=await h;return c(),u}return c(),h}c()};return e.onerror=i.bind(null,e.onerror),e.onload=i.bind(null,e.onload),o=setTimeout(()=>{i(null,new Error(`Remote script "${t.url}" time-outed.`))},r),{script:e,needAttach:n}}function de(t){let e=null,n=!0,r=document.getElementsByTagName("link");for(let a=0;a<r.length;a++){let i=r[a],s=i.getAttribute("href"),l=i.getAttribute("ref");if(s&&Tt(s,t.url)&&l===t.attrs.ref){e=i,n=!1;break}}if(!e){e=document.createElement("link"),e.setAttribute("href",t.url);let a,i=t.attrs;t.createLinkHook&&(a=t.createLinkHook(t.url,i),a instanceof HTMLLinkElement&&(e=a)),i&&!a&&Object.keys(i).forEach(s=>{e&&!e.getAttribute(s)&&e.setAttribute(s,i[s])})}let o=(a,i)=>{let s=()=>{i?.type==="error"?t?.onErrorCallback&&t?.onErrorCallback(i):t?.cb&&t?.cb()};if(e&&(e.onerror=null,e.onload=null,wt(()=>{let{needDeleteLink:l=!0}=t;l&&e?.parentNode&&e.parentNode.removeChild(e)}),a)){let l=a(i);return s(),l}s()};return e.onerror=o.bind(null,e.onerror),e.onload=o.bind(null,e.onload),{link:e,needAttach:n}}function je(t,e){let{attrs:n={},createScriptHook:r}=e;return new Promise((o,a)=>{let{script:i,needAttach:s}=Ue({url:t,cb:o,onErrorCallback:a,attrs:V({fetchpriority:"high"},n),createScriptHook:r,needDeleteScript:!0});s&&document.head.appendChild(i)})}function re(t){if(!t)throw new Error("import specifier is required");return new Function("name","return import(name)")(t).then(n=>n).catch(n=>{throw console.error(`Error importing module ${t}:`,n),n})}var At=async()=>{let t=await re("node-fetch");return t.default||t},zr=async(t,e,n)=>{let o=await((a,i)=>n.lifecycle.fetch.emit(a,i))(t,e||{});return!o||!(o instanceof Response)?(typeof fetch>"u"?await At():fetch)(t,e||{}):o};function Xr(url,cb,attrs,loaderHook){if(loaderHook?.createScriptHook){let t=loaderHook.createScriptHook(url);t&&typeof t=="object"&&"url"in t&&(url=t.url)}let urlObj;try{urlObj=new URL(url)}catch(t){console.error("Error constructing URL:",t),cb(new Error(`Invalid URL: ${t}`));return}let getFetch=async()=>loaderHook?.fetch?(t,e)=>zr(t,e,loaderHook):typeof fetch>"u"?At():fetch,handleScriptFetch=async(f,urlObj)=>{try{var _vm_constants;let res=await f(urlObj.href),data=await res.text(),[path,vm]=await Promise.all([re("path"),re("vm")]),scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;let script=new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}
})`,{filename,importModuleDynamically:(_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER=(_vm_constants=vm.constants)==null?void 0:_vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER)!=null?_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER:re});script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename);let exportedInterface=scriptContext.module.exports||scriptContext.exports;if(attrs&&exportedInterface&&attrs.globalName){let t=exportedInterface[attrs.globalName]||exportedInterface;cb(void 0,t);return}cb(void 0,exportedInterface)}catch(t){cb(t instanceof Error?t:new Error(`Script execution error: ${t}`))}};getFetch().then(async t=>{if(attrs?.type==="esm"||attrs?.type==="module")return De(urlObj.href,{fetch:t,vm:await re("vm")}).then(async e=>{await e.evaluate(),cb(void 0,e.namespace)}).catch(e=>{cb(e instanceof Error?e:new Error(`Script execution error: ${e}`))});handleScriptFetch(t,urlObj)}).catch(t=>{cb(t)})}function Ve(t,e){return new Promise((n,r)=>{Xr(t,(o,a)=>{if(o)r(o);else{var i,s;let l=(e==null||(i=e.attrs)==null?void 0:i.globalName)||`__FEDERATION_${e==null||(s=e.attrs)==null?void 0:s.name}:custom__`,c=globalThis[l]=a;n(c)}},e.attrs,e.loaderHook)})}async function De(t,e){let{fetch:n,vm:r}=e,a=await(await n(t)).text(),i=new r.SourceTextModule(a,{importModuleDynamically:async(s,l)=>{let c=new URL(s,t).href;return De(c,e)}});return await i.link(async s=>{let l=new URL(s,t).href;return await De(l,e)}),i}function Do(t,e,n){return function(r){if(r===!1)return!1;if(typeof r>"u")return t?e:!1;if(r===!0)return e;if(r&&typeof r=="object")return V({},e,r);throw new Error(`Unexpected type for \`${n}\`, expect boolean/undefined/object, got: ${typeof r}`)}}var he="RUNTIME-001",We="RUNTIME-002",Ke="RUNTIME-003",qe="RUNTIME-004",ze="RUNTIME-005",pe="RUNTIME-006",Xe="RUNTIME-007",Ye="RUNTIME-008",Yr="TYPE-001",Jr="BUILD-001",Zr=t=>`https://module-federation.io/guide/troubleshooting/${t.split("-")[0].toLowerCase()}/${t}`,H=(t,e,n,r)=>{let o=[`${[e[t]]} #${t}`];return n&&o.push(`args: ${JSON.stringify(n)}`),o.push(Zr(t)),r&&o.push(`Original Error Message:
 ${r}`),o.join(`
`)};function Be(){return Be=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Be.apply(this,arguments)}var k={[he]:"Failed to get remoteEntry exports.",[We]:'The remote entry interface does not contain "init"',[Ke]:"Failed to get manifest.",[qe]:"Failed to locate remote.",[ze]:"Invalid loadShareSync function call from bundler runtime",[pe]:"Invalid loadShareSync function call from runtime",[Xe]:"Failed to get remote snapshot.",[Ye]:"Failed to load script resources."},Qr={[Yr]:"Failed to generate type declaration."},en={[Jr]:"Failed to find expose module."},ko=Be({},k,Qr,en);var Re="[ Federation Runtime ]",Qe=ke(Re);function N(t,e){t||U(e)}function U(t){throw t instanceof Error?(t.message=`${Re}: ${t.message}`,t):new Error(`${Re}: ${t}`)}function Ie(t){t instanceof Error&&(t.message=`${Re}: ${t.message}`),Qe.warn(t)}function Pt(t,e){return t.findIndex(n=>n===e)===-1&&t.push(e),t}function oe(t){return"version"in t&&t.version?`${t.name}:${t.version}`:"entry"in t&&t.entry?`${t.name}:${t.entry}`:`${t.name}`}function nt(t){return typeof t.entry<"u"}function Gt(t){return!t.entry.includes(".json")&&t.entry.includes(".js")}function ot(t){return t&&typeof t=="object"}var tn=Object.prototype.toString;function rn(t){return tn.call(t)==="[object Object]"}function Ut(t){return Array.isArray(t)?t:[t]}function jt(t){let e={url:"",type:"global",globalName:""};return B()?"remoteEntry"in t?{url:t.remoteEntry,type:t.remoteEntryType,globalName:t.globalName}:e:"ssrRemoteEntry"in t?{url:t.ssrRemoteEntry||e.url,type:t.ssrRemoteEntryType||e.type,globalName:t.globalName}:e}var nn=(t,e)=>{let n;return t.endsWith("/")?n=t.slice(0,-1):n=t,e.startsWith(".")&&(e=e.slice(1)),n=n+e,n},I=typeof globalThis=="object"?globalThis:window,C=(()=>{try{return document.defaultView}catch{return I}})(),se=C;function me(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!1,writable:!0})}function ye(t,e){return Object.hasOwnProperty.call(t,e)}ye(I,"__GLOBAL_LOADING_REMOTE_ENTRY__")||me(I,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});var Z=I.__GLOBAL_LOADING_REMOTE_ENTRY__;function Vt(t){var e,n,r,o,a,i;ye(t,"__VMOK__")&&!ye(t,"__FEDERATION__")&&me(t,"__FEDERATION__",t.__VMOK__),ye(t,"__FEDERATION__")||(me(t,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),me(t,"__VMOK__",t.__FEDERATION__));var s;(s=(e=t.__FEDERATION__).__GLOBAL_PLUGIN__)!=null||(e.__GLOBAL_PLUGIN__=[]);var l;(l=(n=t.__FEDERATION__).__INSTANCES__)!=null||(n.__INSTANCES__=[]);var c;(c=(r=t.__FEDERATION__).moduleInfo)!=null||(r.moduleInfo={});var h;(h=(o=t.__FEDERATION__).__SHARE__)!=null||(o.__SHARE__={});var u;(u=(a=t.__FEDERATION__).__MANIFEST_LOADING__)!=null||(a.__MANIFEST_LOADING__={});var d;(d=(i=t.__FEDERATION__).__PRELOADED_MAP__)!=null||(i.__PRELOADED_MAP__=new Map)}Vt(I);Vt(C);function Bt(t){I.__FEDERATION__.__INSTANCES__.push(t)}function Wt(){return I.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function Kt(t,e=Fe()){e&&(I.__FEDERATION__.__DEBUG_CONSTRUCTOR__=t,I.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.6.16")}function Q(t,e){if(typeof e=="string"){if(t[e])return{value:t[e],key:e};{let r=Object.keys(t);for(let o of r){let[a,i]=o.split(":"),s=`${a}:${e}`,l=t[s];if(l)return{value:l,key:s}}return{value:void 0,key:e}}}else throw new Error("key must be string")}var Lt=()=>C.__FEDERATION__.moduleInfo,on=(t,e)=>{let n=oe(t),r=Q(e,n).value;if(r&&!r.version&&"version"in t&&t.version&&(r.version=t.version),r)return r;if("version"in t&&t.version){let{version:o}=t,a=we(t,["version"]),i=oe(a),s=Q(C.__FEDERATION__.moduleInfo,i).value;if(s?.version===o)return s}},Ee=t=>on(t,C.__FEDERATION__.moduleInfo),Mt=(t,e)=>{let n=oe(t);return C.__FEDERATION__.moduleInfo[n]=e,C.__FEDERATION__.moduleInfo},sn=t=>(C.__FEDERATION__.moduleInfo=T({},C.__FEDERATION__.moduleInfo,t),()=>{let e=Object.keys(t);for(let n of e)delete C.__FEDERATION__.moduleInfo[n]}),ve=(t,e)=>{let n=e||`__FEDERATION_${t}:custom__`,r=I[n];return{remoteEntryKey:n,entryExports:r}};var an=()=>C.__FEDERATION__.__GLOBAL_PLUGIN__,ln=t=>I.__FEDERATION__.__PRELOADED_MAP__.get(t),cn=t=>I.__FEDERATION__.__PRELOADED_MAP__.set(t,!0),le="default",qt="global",Dt="[0-9A-Za-z-]+",st=`(?:\\+(${Dt}(?:\\.${Dt})*))`,ne="0|[1-9]\\d*",ge="[0-9]+",zt="\\d*[a-zA-Z-][a-zA-Z0-9-]*",Ft=`(?:${ge}|${zt})`,un=`(?:-?(${Ft}(?:\\.${Ft})*))`,kt=`(?:${ne}|${zt})`,Xt=`(?:-(${kt}(?:\\.${kt})*))`,Je=`${ne}|x|X|\\*`,ee=`[v=\\s]*(${Je})(?:\\.(${Je})(?:\\.(${Je})(?:${Xt})?${st}?)?)?`,fn=`^\\s*(${ee})\\s+-\\s+(${ee})\\s*$`,dn=`(${ge})\\.(${ge})\\.(${ge})`,hn=`[v=\\s]*${dn}${un}?${st}?`,it="((?:<|>)?=?)",pn=`(\\s*)${it}\\s*(${hn}|${ee})`,Yt="(?:~>?)",_n=`(\\s*)${Yt}\\s+`,Jt="(?:\\^)",mn=`(\\s*)${Jt}\\s+`,yn="(<|>)?=?\\s*\\*",En=`^${Jt}${ee}$`,gn=`(${ne})\\.(${ne})\\.(${ne})`,bn=`v?${gn}${Xt}?${st}?`,Sn=`^${Yt}${ee}$`,Rn=`^${it}\\s*${ee}$`,vn=`^${it}\\s*(${bn})$|^$`,$n="^\\s*>=\\s*0.0.0\\s*$";function j(t){return new RegExp(t)}function A(t){return!t||t.toLowerCase()==="x"||t==="*"}function Zt(...t){return e=>t.reduce((n,r)=>r(n),e)}function Ct(t){return t.match(j(vn))}function xt(t,e,n,r){let o=`${t}.${e}.${n}`;return r?`${o}-${r}`:o}function In(t){return t.replace(j(fn),(e,n,r,o,a,i,s,l,c,h,u,d)=>(A(r)?n="":A(o)?n=`>=${r}.0.0`:A(a)?n=`>=${r}.${o}.0`:n=`>=${n}`,A(c)?l="":A(h)?l=`<${Number(c)+1}.0.0-0`:A(u)?l=`<${c}.${Number(h)+1}.0-0`:d?l=`<=${c}.${h}.${u}-${d}`:l=`<=${l}`,`${n} ${l}`.trim()))}function On(t){return t.replace(j(pn),"$1$2$3")}function Nn(t){return t.replace(j(_n),"$1~")}function wn(t){return t.replace(j(mn),"$1^")}function Tn(t){return t.trim().split(/\s+/).map(e=>e.replace(j(En),(n,r,o,a,i)=>A(r)?"":A(o)?`>=${r}.0.0 <${Number(r)+1}.0.0-0`:A(a)?r==="0"?`>=${r}.${o}.0 <${r}.${Number(o)+1}.0-0`:`>=${r}.${o}.0 <${Number(r)+1}.0.0-0`:i?r==="0"?o==="0"?`>=${r}.${o}.${a}-${i} <${r}.${o}.${Number(a)+1}-0`:`>=${r}.${o}.${a}-${i} <${r}.${Number(o)+1}.0-0`:`>=${r}.${o}.${a}-${i} <${Number(r)+1}.0.0-0`:r==="0"?o==="0"?`>=${r}.${o}.${a} <${r}.${o}.${Number(a)+1}-0`:`>=${r}.${o}.${a} <${r}.${Number(o)+1}.0-0`:`>=${r}.${o}.${a} <${Number(r)+1}.0.0-0`)).join(" ")}function An(t){return t.trim().split(/\s+/).map(e=>e.replace(j(Sn),(n,r,o,a,i)=>A(r)?"":A(o)?`>=${r}.0.0 <${Number(r)+1}.0.0-0`:A(a)?`>=${r}.${o}.0 <${r}.${Number(o)+1}.0-0`:i?`>=${r}.${o}.${a}-${i} <${r}.${Number(o)+1}.0-0`:`>=${r}.${o}.${a} <${r}.${Number(o)+1}.0-0`)).join(" ")}function Pn(t){return t.split(/\s+/).map(e=>e.trim().replace(j(Rn),(n,r,o,a,i,s)=>{let l=A(o),c=l||A(a),h=c||A(i);return r==="="&&h&&(r=""),s="",l?r===">"||r==="<"?"<0.0.0-0":"*":r&&h?(c&&(a=0),i=0,r===">"?(r=">=",c?(o=Number(o)+1,a=0,i=0):(a=Number(a)+1,i=0)):r==="<="&&(r="<",c?o=Number(o)+1:a=Number(a)+1),r==="<"&&(s="-0"),`${r+o}.${a}.${i}${s}`):c?`>=${o}.0.0${s} <${Number(o)+1}.0.0-0`:h?`>=${o}.${a}.0${s} <${o}.${Number(a)+1}.0-0`:n})).join(" ")}function Ln(t){return t.trim().replace(j(yn),"")}function Mn(t){return t.trim().replace(j($n),"")}function be(t,e){return t=Number(t)||t,e=Number(e)||e,t>e?1:t===e?0:-1}function Dn(t,e){let{preRelease:n}=t,{preRelease:r}=e;if(n===void 0&&r)return 1;if(n&&r===void 0)return-1;if(n===void 0&&r===void 0)return 0;for(let o=0,a=n.length;o<=a;o++){let i=n[o],s=r[o];if(i!==s)return i===void 0&&s===void 0?0:i?s?be(i,s):-1:1}return 0}function _e(t,e){return be(t.major,e.major)||be(t.minor,e.minor)||be(t.patch,e.patch)||Dn(t,e)}function Ze(t,e){return t.version===e.version}function Fn(t,e){switch(t.operator){case"":case"=":return Ze(t,e);case">":return _e(t,e)<0;case">=":return Ze(t,e)||_e(t,e)<0;case"<":return _e(t,e)>0;case"<=":return Ze(t,e)||_e(t,e)>0;case void 0:return!0;default:return!1}}function kn(t){return Zt(Tn,An,Pn,Ln)(t)}function Cn(t){return Zt(In,On,Nn,wn)(t.trim()).split(/\s+/).join(" ")}function Se(t,e){if(!t)return!1;let o=Cn(e).split(" ").map(d=>kn(d)).join(" ").split(/\s+/).map(d=>Mn(d)),a=Ct(t);if(!a)return!1;let[,i,,s,l,c,h]=a,u={operator:i,version:xt(s,l,c,h),major:s,minor:l,patch:c,preRelease:h?.split(".")};for(let d of o){let p=Ct(d);if(!p)return!1;let[,m,,y,_,E,b]=p,R={operator:m,version:xt(y,_,E,b),major:y,minor:_,patch:E,preRelease:b?.split(".")};if(!Fn(R,u))return!1}return!0}function xn(t,e,n,r){let o;"get"in t?o=t.get:"lib"in t?o=()=>Promise.resolve(t.lib):o=()=>Promise.resolve(()=>{throw new Error(`Can not get shared '${n}'!`)}),t.strategy&&Ie('"shared.strategy is deprecated, please set in initOptions.shareStrategy instead!"');var a,i,s;return T({deps:[],useIn:[],from:e,loading:null},t,{shareConfig:T({requiredVersion:`^${t.version}`,singleton:!1,eager:!1,strictVersion:!1},t.shareConfig),get:o,loaded:t?.loaded||"lib"in t?!0:void 0,version:(a=t.version)!=null?a:"0",scope:Array.isArray(t.scope)?t.scope:[(i=t.scope)!=null?i:"default"],strategy:((s=t.strategy)!=null?s:r)||"version-first"})}function Qt(t,e){let n=e.shared||{},r=e.name,o=Object.keys(n).reduce((i,s)=>{let l=Ut(n[s]);return i[s]=i[s]||[],l.forEach(c=>{i[s].push(xn(c,r,s,e.shareStrategy))}),i},{}),a=T({},t.shared);return Object.keys(o).forEach(i=>{a[i]?o[i].forEach(s=>{a[i].find(c=>c.version===s.version)||a[i].push(s)}):a[i]=o[i]}),{shared:a,shareInfos:o}}function ie(t,e){let n=r=>{if(!Number.isNaN(Number(r))){let a=r.split("."),i=r;for(let s=0;s<3-a.length;s++)i+=".0";return i}return r};return!!Se(n(t),`<=${n(e)}`)}var at=(t,e)=>{let n=e||function(r,o){return ie(r,o)};return Object.keys(t).reduce((r,o)=>!r||n(r,o)||r==="0"?o:r,0)},lt=t=>!!t.loaded||typeof t.lib=="function",Hn=t=>!!t.loading;function Gn(t,e,n){let r=t[e][n],o=function(a,i){return!lt(r[a])&&ie(a,i)};return at(t[e][n],o)}function Un(t,e,n){let r=t[e][n],o=function(a,i){let s=l=>lt(l)||Hn(l);return s(r[i])?s(r[a])?!!ie(a,i):!0:s(r[a])?!1:ie(a,i)};return at(t[e][n],o)}function jn(t){return t==="loaded-first"?Un:Gn}function J(t,e,n,r){if(!t)return;let{shareConfig:o,scope:a=le,strategy:i}=n,s=Array.isArray(a)?a:[a];for(let l of s)if(o&&t[l]&&t[l][e]){let{requiredVersion:c}=o,u=jn(i)(t,l,e),d=()=>{if(o.singleton){if(typeof c=="string"&&!Se(u,c)){let y=`Version ${u} from ${u&&t[l][e][u].from} of shared singleton module ${e} does not satisfy the requirement of ${n.from} which needs ${c})`;o.strictVersion?U(y):Ie(y)}return t[l][e][u]}else{if(c===!1||c==="*"||Se(u,c))return t[l][e][u];for(let[y,_]of Object.entries(t[l][e]))if(Se(y,c))return _}},p={shareScopeMap:t,scope:l,pkgName:e,version:u,GlobalFederation:se.__FEDERATION__,resolver:d};return(r.emit(p)||p).resolver()}}function er(){return se.__FEDERATION__.__SHARE__}function Ht(t){let{pkgName:e,extraOptions:n,shareInfos:r}=t,o=s=>{if(!s)return;let l={};s.forEach(u=>{l[u.version]=u});let h=at(l,function(u,d){return!lt(l[u])&&ie(u,d)});return l[h]};var a;let i=(a=n?.resolver)!=null?a:o;return Object.assign({},i(r[e]),n?.customShareInfo)}function Vn(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function Bn(t,e){for(let n of t){let r=e.startsWith(n.name),o=e.replace(n.name,"");if(r){if(o.startsWith("/")){let s=n.name;return o=`.${o}`,{pkgNameOrAlias:s,expose:o,remote:n}}else if(o==="")return{pkgNameOrAlias:n.name,expose:".",remote:n}}let a=n.alias&&e.startsWith(n.alias),i=n.alias&&e.replace(n.alias,"");if(n.alias&&a){if(i&&i.startsWith("/")){let s=n.alias;return i=`.${i}`,{pkgNameOrAlias:s,expose:i,remote:n}}else if(i==="")return{pkgNameOrAlias:n.alias,expose:".",remote:n}}}}function Wn(t,e){for(let n of t)if(e===n.name||n.alias&&e===n.alias)return n}function Kn(t,e){let n=an();return n.length>0&&n.forEach(r=>{t?.find(o=>o.name!==r.name)&&t.push(r)}),t&&t.length>0&&t.forEach(r=>{e.forEach(o=>{o.applyPlugin(r)})}),t}async function qn({entry:t,remoteEntryExports:e}){return new Promise((n,r)=>{try{e?n(e):typeof FEDERATION_ALLOW_NEW_FUNCTION<"u"?new Function("callbacks",`import("${t}").then(callbacks[0]).catch(callbacks[1])`)([n,r]):import(t).then(n).catch(r)}catch(o){r(o)}})}async function zn({entry:t,remoteEntryExports:e}){return new Promise((n,r)=>{try{e?n(e):typeof __system_context__>"u"?System.import(t).then(n).catch(r):new Function("callbacks",`System.import("${t}").then(callbacks[0]).catch(callbacks[1])`)([n,r])}catch(o){r(o)}})}async function Xn({name:t,globalName:e,entry:n,loaderHook:r}){let{entryExports:o}=ve(t,e);return o||je(n,{attrs:{},createScriptHook:(a,i)=>{let s=r.lifecycle.createScript.emit({url:a,attrs:i});if(s&&(s instanceof HTMLScriptElement||"script"in s||"timeout"in s))return s}}).then(()=>{let{remoteEntryKey:a,entryExports:i}=ve(t,e);return N(i,H(he,k,{remoteName:t,remoteEntryUrl:n,remoteEntryKey:a})),i}).catch(a=>{throw N(void 0,H(Ye,k,{remoteName:t,resourceUrl:n})),a})}async function Yn({remoteInfo:t,remoteEntryExports:e,loaderHook:n}){let{entry:r,entryGlobalName:o,name:a,type:i}=t;switch(i){case"esm":case"module":return qn({entry:r,remoteEntryExports:e});case"system":return zn({entry:r,remoteEntryExports:e});default:return Xn({entry:r,globalName:o,name:a,loaderHook:n})}}async function Jn({remoteInfo:t,loaderHook:e}){let{entry:n,entryGlobalName:r,name:o,type:a}=t,{entryExports:i}=ve(o,r);return i||Ve(n,{attrs:{name:o,globalName:r,type:a},loaderHook:{createScriptHook:(s,l={})=>{let c=e.lifecycle.createScript.emit({url:s,attrs:l});if(c&&"url"in c)return c}}}).then(()=>{let{remoteEntryKey:s,entryExports:l}=ve(o,r);return N(l,H(he,k,{remoteName:o,remoteEntryUrl:n,remoteEntryKey:s})),l}).catch(s=>{throw s})}function ct(t){let{entry:e,name:n}=t;return Ce(n,e)}async function ae({origin:t,remoteEntryExports:e,remoteInfo:n}){let r=ct(n);if(e)return e;if(!Z[r]){let o=t.remoteHandler.hooks.lifecycle.loadEntry,a=t.loaderHook;Z[r]=o.emit({loaderHook:a,remoteInfo:n,remoteEntryExports:e}).then(i=>i||(B()?Yn({remoteInfo:n,remoteEntryExports:e,loaderHook:a}):Jn({remoteInfo:n,loaderHook:a})))}return Z[r]}function $e(t){return T({},t,{entry:"entry"in t?t.entry:"",type:t.type||qt,entryGlobalName:t.entryGlobalName||t.name,shareScope:t.shareScope||le})}var ut=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;let e;try{e=await ae({origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports})}catch{let r=ct(this.remoteInfo);e=await this.host.loaderHook.lifecycle.loadEntryError.emit({getRemoteEntry:ae,origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,globalLoading:Z,uniqueKey:r})}return N(e,`remoteEntryExports is undefined 
 ${He(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,n,r,o){let{loadFactory:a=!0}=r||{loadFactory:!0},i=await this.getEntry();if(!this.inited){let u=this.host.shareScopeMap,d=this.remoteInfo.shareScope||"default";u[d]||(u[d]={});let p=u[d],m=[],y={version:this.remoteInfo.version||""};Object.defineProperty(y,"shareScopeMap",{value:u,enumerable:!1});let _=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:p,remoteEntryInitOptions:y,initScope:m,remoteInfo:this.remoteInfo,origin:this.host});typeof i?.init>"u"&&U(H(We,k,{remoteName:name,remoteEntryUrl:this.remoteInfo.entry,remoteEntryKey:this.remoteInfo.entryGlobalName})),await i.init(_.shareScope,_.initScope,_.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(T({},_,{id:e,remoteSnapshot:o,remoteEntryExports:i}))}this.lib=i,this.inited=!0;let s;s=await this.host.loaderHook.lifecycle.getModuleFactory.emit({remoteEntryExports:i,expose:n,moduleInfo:this.remoteInfo}),s||(s=await i.get(n)),N(s,`${oe(this.remoteInfo)} remote don't export ${n}.`);let l=nn(this.remoteInfo.name,n),c=this.wraperFactory(s,l);return a?await c():c}wraperFactory(e,n){function r(o,a){o&&typeof o=="object"&&Object.isExtensible(o)&&!Object.getOwnPropertyDescriptor(o,Symbol.for("mf_module_id"))&&Object.defineProperty(o,Symbol.for("mf_module_id"),{value:a,enumerable:!1})}return e instanceof Promise?async()=>{let o=await e();return r(o,n),o}:()=>{let o=e();return r(o,n),o}}constructor({remoteInfo:e,host:n}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=n}},P=class{on(e){typeof e=="function"&&this.listeners.add(e)}once(e){let n=this;this.on(function r(...o){return n.remove(r),e.apply(null,o)})}emit(...e){let n;return this.listeners.size>0&&this.listeners.forEach(r=>{n=r(...e)}),n}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}},L=class extends P{emit(...e){let n,r=Array.from(this.listeners);if(r.length>0){let o=0,a=i=>i===!1?!1:o<r.length?Promise.resolve(r[o++].apply(null,e)).then(a):i;n=a()}return Promise.resolve(n)}};function tr(t,e){if(!ot(e))return!1;if(t!==e){for(let n in t)if(!(n in e))return!1}return!0}var X=class extends P{emit(e){ot(e)||U(`The data for the "${this.type}" hook should be an object.`);for(let n of this.listeners)try{let r=n(e);if(tr(e,r))e=r;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(r){Ie(r),this.onerror(r)}return e}constructor(e){super(),this.onerror=U,this.type=e}},G=class extends P{emit(e){ot(e)||U(`The response data for the "${this.type}" hook must be an object.`);let n=Array.from(this.listeners);if(n.length>0){let r=0,o=i=>(Ie(i),this.onerror(i),e),a=i=>{if(tr(e,i)){if(e=i,r<n.length)try{return Promise.resolve(n[r++](e)).then(a,o)}catch(s){return o(s)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(a(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=U,this.type=e}},W=class{applyPlugin(e){N(rn(e),"Plugin configuration is invalid.");let n=e.name;N(n,"A name must be provided by the plugin."),this.registerPlugins[n]||(this.registerPlugins[n]=e,Object.keys(this.lifecycle).forEach(r=>{let o=e[r];o&&this.lifecycle[r].on(o)}))}removePlugin(e){N(e,"A name is required.");let n=this.registerPlugins[e];N(n,`The plugin "${e}" is not registered.`),Object.keys(n).forEach(r=>{r!=="name"&&this.lifecycle[r].remove(n[r])})}inherit({lifecycle:e,registerPlugins:n}){Object.keys(e).forEach(r=>{N(!this.lifecycle[r],`The hook "${r}" has a conflict and cannot be inherited.`),this.lifecycle[r]=e[r]}),Object.keys(n).forEach(r=>{N(!this.registerPlugins[r],`The plugin "${r}" has a conflict and cannot be inherited.`),this.applyPlugin(n[r])})}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}};function rr(t){return T({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},t)}function Zn(t,e){return e.map(n=>{let r=Wn(t,n.nameOrAlias);return N(r,`Unable to preload ${n.nameOrAlias} as it is not included in ${!r&&He({remoteInfo:r,remotes:t})}`),{remote:r,preloadConfig:rr(n)}})}function Qn(t){return t?t.map(e=>e==="."?e:e.startsWith("./")?e.replace("./",""):e):[]}function nr(t,e,n,r=!0){let{cssAssets:o,jsAssetsWithoutEntry:a,entryAssets:i}=n;if(e.options.inBrowser){if(i.forEach(s=>{let{moduleInfo:l}=s,c=e.moduleCache.get(t.name);ae(c?{origin:e,remoteInfo:l,remoteEntryExports:c.remoteEntryExports}:{origin:e,remoteInfo:l,remoteEntryExports:void 0})}),r){let s={rel:"preload",as:"style"};o.forEach(l=>{let{link:c,needAttach:h}=de({url:l,cb:()=>{},attrs:s,createLinkHook:(u,d)=>{let p=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:d});if(p instanceof HTMLLinkElement)return p}});h&&document.head.appendChild(c)})}else{let s={rel:"stylesheet",type:"text/css"};o.forEach(l=>{let{link:c,needAttach:h}=de({url:l,cb:()=>{},attrs:s,createLinkHook:(u,d)=>{let p=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:d});if(p instanceof HTMLLinkElement)return p},needDeleteLink:!1});h&&document.head.appendChild(c)})}if(r){let s={rel:"preload",as:"script"};a.forEach(l=>{let{link:c,needAttach:h}=de({url:l,cb:()=>{},attrs:s,createLinkHook:(u,d)=>{let p=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:d});if(p instanceof HTMLLinkElement)return p}});h&&document.head.appendChild(c)})}else{let s={fetchpriority:"high",type:t?.type==="module"?"module":"text/javascript"};a.forEach(l=>{let{script:c,needAttach:h}=Ue({url:l,cb:()=>{},attrs:s,createScriptHook:(u,d)=>{let p=e.loaderHook.lifecycle.createScript.emit({url:u,attrs:d});if(p instanceof HTMLScriptElement)return p},needDeleteScript:!0});h&&document.head.appendChild(c)})}}}function or(t,e){let n=jt(e);n.url||U(`The attribute remoteEntry of ${t.name} must not be undefined.`);let r=fe(e,n.url);!B()&&!r.startsWith("http")&&(r=`https:${r}`),t.type=n.type,t.entryGlobalName=n.globalName,t.entry=r,t.version=e.version,t.buildVersion=e.buildVersion}function eo(){return{name:"snapshot-plugin",async afterResolve(t){let{remote:e,pkgNameOrAlias:n,expose:r,origin:o,remoteInfo:a}=t;if(!nt(e)||!Gt(e)){let{remoteSnapshot:i,globalSnapshot:s}=await o.snapshotHandler.loadRemoteSnapshotInfo(e);or(a,i);let l={remote:e,preloadConfig:{nameOrAlias:n,exposes:[r],resourceCategory:"sync",share:!1,depsRemote:!1}},c=await o.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({origin:o,preloadOptions:l,remoteInfo:a,remote:e,remoteSnapshot:i,globalSnapshot:s});return c&&nr(a,o,c,!1),T({},t,{remoteSnapshot:i})}return t}}}function to(t){let e=t.split(":");return e.length===1?{name:e[0],version:void 0}:e.length===2?{name:e[0],version:e[1]}:{name:e[1],version:e[2]}}function sr(t,e,n,r,o={},a){let i=oe(e),{value:s}=Q(t,i),l=a||s;if(l&&!Ge(l)&&(n(l,e,r),l.remotesInfo)){let c=Object.keys(l.remotesInfo);for(let h of c){if(o[h])continue;o[h]=!0;let u=to(h),d=l.remotesInfo[h];sr(t,{name:u.name,version:d.matchedVersion},n,!1,o,void 0)}}}function ro(t,e,n,r,o){let a=[],i=[],s=[],l=new Set,c=new Set,{options:h}=t,{preloadConfig:u}=e,{depsRemote:d}=u;if(sr(r,n,(_,E,b)=>{let R;if(b)R=u;else if(Array.isArray(d)){let F=d.find(M=>M.nameOrAlias===E.name||M.nameOrAlias===E.alias);if(!F)return;R=rr(F)}else if(d===!0)R=u;else return;let S=fe(_,jt(_).url);S&&s.push({name:E.name,moduleInfo:{name:E.name,entry:S,type:"remoteEntryType"in _?_.remoteEntryType:"global",entryGlobalName:"globalName"in _?_.globalName:E.name,shareScope:"",version:"version"in _?_.version:void 0},url:S});let g="modules"in _?_.modules:[],v=Qn(R.exposes);if(v.length&&"modules"in _){var w;g=_==null||(w=_.modules)==null?void 0:w.reduce((F,M)=>(v?.indexOf(M.moduleName)!==-1&&F.push(M),F),[])}function O(F){let M=F.map(x=>fe(_,x));return R.filter?M.filter(R.filter):M}if(g){let F=g.length;for(let M=0;M<F;M++){let x=g[M],Ne=`${E.name}/${x.moduleName}`;t.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({id:x.moduleName==="."?E.name:Ne,name:E.name,remoteSnapshot:_,preloadConfig:R,remote:E,origin:t}),!ln(Ne)&&(R.resourceCategory==="all"?(a.push(...O(x.assets.css.async)),a.push(...O(x.assets.css.sync)),i.push(...O(x.assets.js.async)),i.push(...O(x.assets.js.sync))):(R.resourceCategory="sync")&&(a.push(...O(x.assets.css.sync)),i.push(...O(x.assets.js.sync))),cn(Ne))}}},!0,{},o),o.shared){let _=(E,b)=>{let R=J(t.shareScopeMap,b.sharedName,E,t.sharedHandler.hooks.lifecycle.resolveShare);R&&typeof R.lib=="function"&&(b.assets.js.sync.forEach(S=>{l.add(S)}),b.assets.css.sync.forEach(S=>{c.add(S)}))};o.shared.forEach(E=>{var b;let R=(b=h.shared)==null?void 0:b[E.sharedName];if(!R)return;let S=E.version?R.find(v=>v.version===E.version):R;if(!S)return;Ut(S).forEach(v=>{_(v,E)})})}let m=i.filter(_=>!l.has(_));return{cssAssets:a.filter(_=>!c.has(_)),jsAssetsWithoutEntry:m,entryAssets:s}}var no=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(t){let{origin:e,preloadOptions:n,remoteInfo:r,remote:o,globalSnapshot:a,remoteSnapshot:i}=t;return nt(o)&&Gt(o)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:o.name,url:o.entry,moduleInfo:{name:r.name,entry:o.entry,type:r.type||"global",entryGlobalName:"",shareScope:""}}]}:(or(r,i),ro(e,n,r,a,i))}}};function ir(t,e){let n=Ee({name:e.options.name,version:e.options.version}),r=n&&"remotesInfo"in n&&n.remotesInfo&&Q(n.remotesInfo,t.name).value;return r&&r.matchedVersion?{hostGlobalSnapshot:n,globalSnapshot:Lt(),remoteSnapshot:Ee({name:t.name,version:r.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:Lt(),remoteSnapshot:Ee({name:t.name,version:"version"in t?t.version:void 0})}}var et=class{async loadSnapshot(e){let{options:n}=this.HostInstance,{hostGlobalSnapshot:r,remoteSnapshot:o,globalSnapshot:a}=this.getGlobalRemoteInfo(e),{remoteSnapshot:i,globalSnapshot:s}=await this.hooks.lifecycle.loadSnapshot.emit({options:n,moduleInfo:e,hostGlobalSnapshot:r,remoteSnapshot:o,globalSnapshot:a});return{remoteSnapshot:i,globalSnapshot:s}}async loadRemoteSnapshotInfo(e){let{options:n}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:n,moduleInfo:e});let r=Ee({name:this.HostInstance.options.name,version:this.HostInstance.options.version});r||(r={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},sn({[this.HostInstance.options.name]:r})),r&&"remotesInfo"in r&&!Q(r.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(r.remotesInfo=T({},r?.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));let{hostGlobalSnapshot:o,remoteSnapshot:a,globalSnapshot:i}=this.getGlobalRemoteInfo(e),{remoteSnapshot:s,globalSnapshot:l}=await this.hooks.lifecycle.loadSnapshot.emit({options:n,moduleInfo:e,hostGlobalSnapshot:o,remoteSnapshot:a,globalSnapshot:i}),c,h;if(s)if(Ge(s)){let u=B()?s.remoteEntry:s.ssrRemoteEntry||s.remoteEntry||"",d=await this.getManifestJson(u,e,{}),p=Mt(T({},e,{entry:u}),d);c=d,h=p}else{let{remoteSnapshot:u}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:s,from:"global"});c=u,h=l}else if(nt(e)){let u=await this.getManifestJson(e.entry,e,{}),d=Mt(e,u),{remoteSnapshot:p}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:u,from:"global"});c=p,h=d}else U(H(Xe,k,{hostName:e.name,hostVersion:e.version,globalSnapshot:JSON.stringify(l)}));return await this.hooks.lifecycle.afterLoadSnapshot.emit({options:n,moduleInfo:e,remoteSnapshot:c}),{remoteSnapshot:c,globalSnapshot:h}}getGlobalRemoteInfo(e){return ir(e,this.HostInstance)}async getManifestJson(e,n,r){let o=async()=>{let i=this.manifestCache.get(e);if(i)return i;try{let s=await this.loaderHook.lifecycle.fetch.emit(e,{});return(!s||!(s instanceof Response))&&(s=await fetch(e,{})),i=await s.json(),N(i.metaData&&i.exposes&&i.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,i),i}catch(s){delete this.manifestLoading[e],U(H(Ke,k,{manifestUrl:e,moduleName:n.name},`${s}`))}},a=async()=>{let i=await o(),s=Nt(i,{version:e}),{remoteSnapshot:l}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:n,manifestJson:i,remoteSnapshot:s,manifestUrl:e,from:"manifest"});return l};return this.manifestLoading[e]||(this.manifestLoading[e]=a().then(i=>i)),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new W({beforeLoadRemoteSnapshot:new L("beforeLoadRemoteSnapshot"),loadSnapshot:new G("loadGlobalSnapshot"),loadRemoteSnapshot:new G("loadRemoteSnapshot"),afterLoadSnapshot:new G("afterLoadSnapshot")}),this.manifestLoading=se.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}},tt=class{registerShared(e,n){let{shareInfos:r,shared:o}=Qt(e,n);return Object.keys(r).forEach(i=>{r[i].forEach(l=>{!J(this.shareScopeMap,i,l,this.hooks.lifecycle.resolveShare)&&l&&l.lib&&this.setShared({pkgName:i,lib:l.lib,get:l.get,loaded:!0,shared:l,from:n.name})})}),{shareInfos:r,shared:o}}async loadShare(e,n){let{host:r}=this,o=Ht({pkgName:e,extraOptions:n,shareInfos:r.options.shared});o?.scope&&await Promise.all(o.scope.map(async c=>{await Promise.all(this.initializeSharing(c,{strategy:o.strategy}))}));let a=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:o,shared:r.options.shared,origin:r}),{shareInfo:i}=a;N(i,`Cannot find ${e} Share in the ${r.options.name}. Please ensure that the ${e} Share parameters have been injected`);let s=J(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare),l=c=>{c.useIn||(c.useIn=[]),Pt(c.useIn,r.options.name)};if(s&&s.lib)return l(s),s.lib;if(s&&s.loading&&!s.loaded){let c=await s.loading;return s.loaded=!0,s.lib||(s.lib=c),l(s),c}else if(s){let h=(async()=>{let u=await s.get();i.lib=u,i.loaded=!0,l(i);let d=J(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return d&&(d.lib=u,d.loaded=!0),u})();return this.setShared({pkgName:e,loaded:!1,shared:s,from:r.options.name,lib:null,loading:h}),h}else{if(n?.customShareInfo)return!1;let h=(async()=>{let u=await i.get();i.lib=u,i.loaded=!0,l(i);let d=J(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return d&&(d.lib=u,d.loaded=!0),u})();return this.setShared({pkgName:e,loaded:!1,shared:i,from:r.options.name,lib:null,loading:h}),h}}initializeSharing(e=le,n){let{host:r}=this,o=n?.from,a=n?.strategy,i=n?.initScope,s=[];if(o!=="build"){let{initTokens:m}=this;i||(i=[]);let y=m[e];if(y||(y=m[e]={from:this.host.name}),i.indexOf(y)>=0)return s;i.push(y)}let l=this.shareScopeMap,c=r.options.name;l[e]||(l[e]={});let h=l[e],u=(m,y)=>{var _;let{version:E,eager:b}=y;h[m]=h[m]||{};let R=h[m],S=R[E],g=!!(S&&(S.eager||(_=S.shareConfig)!=null&&_.eager));(!S||S.strategy!=="loaded-first"&&!S.loaded&&(!b!=!g?b:c>S.from))&&(R[E]=y)},d=m=>m&&m.init&&m.init(l[e],i),p=async m=>{let{module:y}=await r.remoteHandler.getRemoteModuleAndOptions({id:m});if(y.getEntry){let _;try{_=await y.getEntry()}catch(E){_=await r.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:m,error:E,from:"runtime",lifecycle:"beforeLoadShare",origin:r})}y.inited||(await d(_),y.inited=!0)}};return Object.keys(r.options.shared).forEach(m=>{r.options.shared[m].forEach(_=>{_.scope.includes(e)&&u(m,_)})}),(r.options.shareStrategy==="version-first"||a==="version-first")&&r.options.remotes.forEach(m=>{m.shareScope===e&&s.push(p(m.name))}),s}loadShareSync(e,n){let{host:r}=this,o=Ht({pkgName:e,extraOptions:n,shareInfos:r.options.shared});o?.scope&&o.scope.forEach(s=>{this.initializeSharing(s,{strategy:o.strategy})});let a=J(this.shareScopeMap,e,o,this.hooks.lifecycle.resolveShare),i=s=>{s.useIn||(s.useIn=[]),Pt(s.useIn,r.options.name)};if(a){if(typeof a.lib=="function")return i(a),a.loaded||(a.loaded=!0,a.from===r.options.name&&(o.loaded=!0)),a.lib;if(typeof a.get=="function"){let s=a.get();if(!(s instanceof Promise))return i(a),this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:s,shared:a}),s}}if(o.lib)return o.loaded||(o.loaded=!0),o.lib;if(o.get){let s=o.get();if(s instanceof Promise){let l=n?.from==="build"?ze:pe;throw new Error(H(l,k,{hostName:r.options.name,sharedPkgName:e}))}return o.lib=s,this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:o.lib,shared:o}),o.lib}throw new Error(H(pe,k,{hostName:r.options.name,sharedPkgName:e}))}initShareScopeMap(e,n,r={}){let{host:o}=this;this.shareScopeMap[e]=n,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:n,options:o.options,origin:o,scopeName:e,hostShareScopeMap:r.hostShareScopeMap})}setShared({pkgName:e,shared:n,from:r,lib:o,loading:a,loaded:i,get:s}){let{version:l,scope:c="default"}=n,h=we(n,["version","scope"]);(Array.isArray(c)?c:[c]).forEach(d=>{if(this.shareScopeMap[d]||(this.shareScopeMap[d]={}),this.shareScopeMap[d][e]||(this.shareScopeMap[d][e]={}),!this.shareScopeMap[d][e][l]){this.shareScopeMap[d][e][l]=T({version:l,scope:["default"]},h,{lib:o,loaded:i,loading:a}),s&&(this.shareScopeMap[d][e][l].get=s);return}let p=this.shareScopeMap[d][e][l];a&&!p.loading&&(p.loading=a)})}_setGlobalShareScopeMap(e){let n=er(),r=e.id||e.name;r&&!n[r]&&(n[r]=this.shareScopeMap)}constructor(e){this.hooks=new W({afterResolve:new G("afterResolve"),beforeLoadShare:new G("beforeLoadShare"),loadShare:new L,resolveShare:new X("resolveShare"),initContainerShareScopeMap:new X("initContainerShareScopeMap")}),this.host=e,this.shareScopeMap={},this.initTokens={},this._setGlobalShareScopeMap(e.options)}},rt=class{formatAndRegisterRemote(e,n){return(n.remotes||[]).reduce((o,a)=>(this.registerRemote(a,o,{force:!1}),o),e.remotes)}setIdToRemoteMap(e,n){let{remote:r,expose:o}=n,{name:a,alias:i}=r;if(this.idToRemoteMap[e]={name:r.name,expose:o},i&&e.startsWith(a)){let s=e.replace(a,i);this.idToRemoteMap[s]={name:r.name,expose:o};return}if(i&&e.startsWith(i)){let s=e.replace(i,a);this.idToRemoteMap[s]={name:r.name,expose:o}}}async loadRemote(e,n){let{host:r}=this;try{let{loadFactory:o=!0}=n||{loadFactory:!0},{module:a,moduleOptions:i,remoteMatchInfo:s}=await this.getRemoteModuleAndOptions({id:e}),{pkgNameOrAlias:l,remote:c,expose:h,id:u,remoteSnapshot:d}=s,p=await a.get(u,h,n,d),m=await this.hooks.lifecycle.onLoad.emit({id:u,pkgNameOrAlias:l,expose:h,exposeModule:o?p:void 0,exposeModuleFactory:o?void 0:p,remote:c,options:i,moduleInstance:a,origin:r});return this.setIdToRemoteMap(e,s),typeof m=="function"?m:p}catch(o){let{from:a="runtime"}=n||{from:"runtime"},i=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:o,from:a,lifecycle:"onLoad",origin:r});if(!i)throw o;return i}}async preloadRemote(e){let{host:n}=this;await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOps:e,options:n.options,origin:n});let r=Zn(n.options.remotes,e);await Promise.all(r.map(async o=>{let{remote:a}=o,i=$e(a),{globalSnapshot:s,remoteSnapshot:l}=await n.snapshotHandler.loadRemoteSnapshotInfo(a),c=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:n,preloadOptions:o,remote:a,remoteInfo:i,globalSnapshot:s,remoteSnapshot:l});c&&nr(i,n,c)}))}registerRemotes(e,n){let{host:r}=this;e.forEach(o=>{this.registerRemote(o,r.options.remotes,{force:n?.force})})}async getRemoteModuleAndOptions(e){let{host:n}=this,{id:r}=e,o;try{o=await this.hooks.lifecycle.beforeRequest.emit({id:r,options:n.options,origin:n})}catch(m){if(o=await this.hooks.lifecycle.errorLoadRemote.emit({id:r,options:n.options,origin:n,from:"runtime",error:m,lifecycle:"beforeRequest"}),!o)throw m}let{id:a}=o,i=Bn(n.options.remotes,a);N(i,H(qe,k,{hostName:n.options.name,requestId:a}));let{remote:s}=i,l=$e(s),c=await n.sharedHandler.hooks.lifecycle.afterResolve.emit(T({id:a},i,{options:n.options,origin:n,remoteInfo:l})),{remote:h,expose:u}=c;N(h&&u,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${a}.`);let d=n.moduleCache.get(h.name),p={host:n,remoteInfo:l};return d||(d=new ut(p),n.moduleCache.set(h.name,d)),{module:d,moduleOptions:p,remoteMatchInfo:c}}registerRemote(e,n,r){let{host:o}=this,a=()=>{if(e.alias){let s=n.find(l=>{var c;return e.alias&&(l.name.startsWith(e.alias)||((c=l.alias)==null?void 0:c.startsWith(e.alias)))});N(!s,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${s&&s.name} name or alias`)}"entry"in e&&B()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=le),e.type||(e.type=qt)};this.hooks.lifecycle.beforeRegisterRemote.emit({remote:e,origin:o});let i=n.find(s=>s.name===e.name);if(!i)a(),n.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:o});else{let s=[`The remote "${e.name}" is already registered.`,"Please note that overriding it may cause unexpected errors."];r?.force&&(this.removeRemote(i),a(),n.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:o}),xe(s.join(" ")))}}removeRemote(e){try{let{host:r}=this,{name:o}=e,a=r.options.remotes.findIndex(s=>s.name===o);a!==-1&&r.options.remotes.splice(a,1);let i=r.moduleCache.get(e.name);if(i){let s=i.remoteInfo,l=s.entryGlobalName;if(I[l]){var n;(n=Object.getOwnPropertyDescriptor(I,l))!=null&&n.configurable?delete I[l]:I[l]=void 0}let c=ct(i.remoteInfo);Z[c]&&delete Z[c],r.snapshotHandler.manifestCache.delete(s.entry);let h=s.buildVersion?Ce(s.name,s.buildVersion):s.name,u=I.__FEDERATION__.__INSTANCES__.findIndex(p=>s.buildVersion?p.options.id===h:p.name===h);if(u!==-1){let p=I.__FEDERATION__.__INSTANCES__[u];h=p.options.id||h;let m=er(),y=!0,_=[];Object.keys(m).forEach(E=>{let b=m[E];b&&Object.keys(b).forEach(R=>{let S=b[R];S&&Object.keys(S).forEach(g=>{let v=S[g];v&&Object.keys(v).forEach(w=>{let O=v[w];O&&typeof O=="object"&&O.from===s.name&&(O.loaded||O.loading?(O.useIn=O.useIn.filter(F=>F!==s.name),O.useIn.length?y=!1:_.push([E,R,g,w])):_.push([E,R,g,w]))})})})}),y&&(p.shareScopeMap={},delete m[h]),_.forEach(([E,b,R,S])=>{var g,v,w;(w=m[E])==null||(v=w[b])==null||(g=v[R])==null||delete g[S]}),I.__FEDERATION__.__INSTANCES__.splice(u,1)}let{hostGlobalSnapshot:d}=ir(e,r);if(d){let p=d&&"remotesInfo"in d&&d.remotesInfo&&Q(d.remotesInfo,e.name).key;p&&(delete d.remotesInfo[p],se.__FEDERATION__.__MANIFEST_LOADING__[p]&&delete se.__FEDERATION__.__MANIFEST_LOADING__[p])}r.moduleCache.delete(e.name)}}catch(r){Qe.log("removeRemote fail: ",r)}}constructor(e){this.hooks=new W({beforeRegisterRemote:new X("beforeRegisterRemote"),registerRemote:new X("registerRemote"),beforeRequest:new G("beforeRequest"),onLoad:new L("onLoad"),handlePreloadModule:new P("handlePreloadModule"),errorLoadRemote:new L("errorLoadRemote"),beforePreloadRemote:new L("beforePreloadRemote"),generatePreloadAssets:new L("generatePreloadAssets"),afterPreloadRemote:new L,loadEntry:new L}),this.host=e,this.idToRemoteMap={}}},te=class{initOptions(e){this.registerPlugins(e.plugins);let n=this.formatOptions(this.options,e);return this.options=n,n}async loadShare(e,n){return this.sharedHandler.loadShare(e,n)}loadShareSync(e,n){return this.sharedHandler.loadShareSync(e,n)}initializeSharing(e=le,n){return this.sharedHandler.initializeSharing(e,n)}initRawContainer(e,n,r){let o=$e({name:e,entry:n}),a=new ut({host:this,remoteInfo:o});return a.remoteEntryExports=r,this.moduleCache.set(e,a),a}async loadRemote(e,n){return this.remoteHandler.loadRemote(e,n)}async preloadRemote(e){return this.remoteHandler.preloadRemote(e)}initShareScopeMap(e,n,r={}){this.sharedHandler.initShareScopeMap(e,n,r)}formatOptions(e,n){let{shared:r}=Qt(e,n),{userOptions:o,options:a}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:n,options:e,shareInfo:r}),i=this.remoteHandler.formatAndRegisterRemote(a,o),{shared:s}=this.sharedHandler.registerShared(a,o),l=[...a.plugins];o.plugins&&o.plugins.forEach(h=>{l.includes(h)||l.push(h)});let c=T({},e,n,{plugins:l,remotes:i,shared:s});return this.hooks.lifecycle.init.emit({origin:this,options:c}),c}registerPlugins(e){let n=Kn(e,[this.hooks,this.remoteHandler.hooks,this.sharedHandler.hooks,this.snapshotHandler.hooks,this.loaderHook,this.bridgeHook]);this.options.plugins=this.options.plugins.reduce((r,o)=>(o&&r&&!r.find(a=>a.name===o.name)&&r.push(o),r),n||[])}registerRemotes(e,n){return this.remoteHandler.registerRemotes(e,n)}constructor(e){this.hooks=new W({beforeInit:new X("beforeInit"),init:new P,beforeInitContainer:new G("beforeInitContainer"),initContainer:new G("initContainer")}),this.version="0.6.16",this.moduleCache=new Map,this.loaderHook=new W({getModuleInfo:new P,createScript:new P,createLink:new P,fetch:new L,loadEntryError:new L,getModuleFactory:new L}),this.bridgeHook=new W({beforeBridgeRender:new P,afterBridgeRender:new P,beforeBridgeDestroy:new P,afterBridgeDestroy:new P});let n={id:Vn(),name:e.name,plugins:[eo(),no()],remotes:[],shared:{},inBrowser:B()};this.name=e.name,this.options=n,this.snapshotHandler=new et(this),this.sharedHandler=new tt(this),this.remoteHandler=new rt(this),this.shareScopeMap=this.sharedHandler.shareScopeMap,this.registerPlugins([...n.plugins,...e.plugins||[]]),this.options=this.formatOptions(n,e)}};function ar(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function lr(t,e){let n=ar();return I.__FEDERATION__.__INSTANCES__.find(r=>!!(n&&r.options.id===ar()||r.options.name===t&&!r.options.version&&!e||r.options.name===t&&e&&r.options.version===e))}var ce=null;function cr(t){let e=lr(t.name,t.version);if(e)return e.initOptions(t),ce||(ce=e),e;{let n=Wt()||te;return ce=new n(t),Bt(ce),ce}}Kt(te);var ur={},fr=__name__,Oe=__share_scope__,dr=__share_strategy__,oo=__exposes__,so=__remotes__,io=__shared__;async function Jo(t={},e=[]){let n=cr({name:fr,remotes:so,shared:io,shareStrategy:dr}),r=ur[Oe];if(r||(r=ur[Oe]={from:fr}),!(e.indexOf(r)>=0)){e.push(r),n.initShareScopeMap(Oe,t);try{await Promise.all(n.initializeSharing(Oe,{strategy:dr,from:"build",initScope:e}))}catch(o){console.error(o)}return n}}async function Zo(t){let e=oo[t];if(typeof e!="function")throw new Error(`Module ${t} does not exist in container.`);let n=await e();return()=>n}export{Zo as get,Jo as init};
